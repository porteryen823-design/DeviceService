2025-10-22 09:16:18,107 - root - INFO - Starting Device Service...
2025-10-22 09:16:18,107 - root - INFO - Configuration loaded: HOST=0.0.0.0, PORT=5200
2025-10-22 09:16:18,107 - root - INFO - 啟動MQTT客戶端，連接到 127.0.0.1:2834
2025-10-22 09:16:18,108 - app.mqtt.client - INFO - [MQTT_CLIENT] 開始連接MQTT Broker - 主機: 127.0.0.1:2834, 客戶端ID: device_service_1761095778108_28164
2025-10-22 09:16:18,108 - app.mqtt.client - INFO - [MQTT_CLIENT] 連接MQTT Broker: 127.0.0.1:2834
2025-10-22 09:16:18,113 - app.mqtt.client - INFO - [MQTT_CLIENT] MQTT網路循環已啟動
2025-10-22 09:16:18,117 - app.mqtt.client - INFO - [MQTT_CLIENT] MQTT客戶端連接成功 - 錯誤碼: 0
2025-10-22 09:16:18,620 - app.mqtt.client - INFO - [MQTT_CLIENT] MQTT客戶端連接建立成功 - 重試次數: 1
2025-10-22 09:16:18,621 - root - INFO - MQTT客戶端連接成功
2025-10-22 09:16:18,621 - app.mqtt.client - INFO - [MQTT_CLIENT] 註冊訊息處理器 - Topic: mcs/events/ProxyService/status/+
2025-10-22 09:16:18,621 - app.mqtt.client - INFO - [MQTT_CLIENT] 訂閱主題 - Topic: mcs/events/ProxyService/status/+
2025-10-22 09:16:18,622 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功訂閱主題 - Topic: mcs/events/ProxyService/status/+, 結果碼: 0
2025-10-22 09:16:18,622 - app.mqtt.client - INFO - [MQTT_CLIENT] 註冊訊息處理器 - Topic: mcs/events/DeviceService/status/+
2025-10-22 09:16:18,622 - app.mqtt.client - INFO - [MQTT_CLIENT] 訂閱主題 - Topic: mcs/events/DeviceService/status/+
2025-10-22 09:16:18,623 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功訂閱主題 - Topic: mcs/events/DeviceService/status/+, 結果碼: 0
2025-10-22 09:16:18,623 - app.mqtt.client - INFO - [MQTT_CLIENT] 註冊訊息處理器 - Topic: mcs/events/deviceService/+
2025-10-22 09:16:18,624 - app.mqtt.client - INFO - [MQTT_CLIENT] 訂閱主題 - Topic: mcs/events/deviceService/+
2025-10-22 09:16:18,625 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功訂閱主題 - Topic: mcs/events/deviceService/+, 結果碼: 0
2025-10-22 09:16:18,625 - root - INFO - MQTT訊息監聽已啟動
2025-10-22 09:16:18,633 - root - INFO - Database tables created successfully
2025-10-22 09:16:18,633 - app.services.background_worker - INFO - Background worker started
2025-10-22 09:16:18,634 - root - INFO - Background worker started
2025-10-22 09:16:18,634 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:18,634 - app.services.background_worker - INFO - [CACHE_LOAD] Loading devices to cache for the first time
2025-10-22 09:16:18,639 - app.services.device_processor - INFO - [CACHE_LOAD] Starting device cache load
2025-10-22 09:16:18,639 - app.services.device_processor - INFO - [CACHE_LOAD] Cache load completed: 5 devices loaded
2025-10-22 09:16:18,640 - app.services.device_processor - INFO - [CACHE_LOAD] Device status cache now contains 3 entries
2025-10-22 09:16:18,640 - app.services.background_worker - INFO - [CACHE_LOAD] Loaded 5 devices to cache (one-time initialization)
2025-10-22 09:16:18,640 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:18,640 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:18,640 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: OK
2025-10-22 09:16:18,641 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:18,641 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:18,855 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:18,855 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:18,857 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:18,857 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:18,859 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:18,864 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:18,864 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:18,865 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:18,866 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: OK
2025-10-22 09:16:18,866 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:18,866 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:18,867 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:19,075 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:19,076 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:19,077 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:19,077 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:19,079 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:19,079 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:19,080 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:19,081 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:19,081 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: OK
2025-10-22 09:16:19,082 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:19,082 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:19,083 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:19,291 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:19,292 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:19,292 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:19,293 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:19,294 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:19,295 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:19,295 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:19,297 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:19,297 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:19,297 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:19,297 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:19,298 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:19,298 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:19,299 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:19,509 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:19,510 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:19,510 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:19,511 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:19,511 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:19,512 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:19,726 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:19,727 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:19,727 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:19,727 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:19,729 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:19,730 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:19,730 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:19,731 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:19,731 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:19,732 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:19,732 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:19,732 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:19,943 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:19,944 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:19,944 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:19,945 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:19,946 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:19,947 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:19,948 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:19,948 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:19,948 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:19,949 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:19,949 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:19,949 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:20,159 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:20,160 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:20,161 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:20,161 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:20,163 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:20,163 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:20,165 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:20,166 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:20,167 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:20,167 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:20,167 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:20,168 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:20,168 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:20,168 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:20,375 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:20,376 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:20,376 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:20,377 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:20,377 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:20,377 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:20,591 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:20,591 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:20,592 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:20,592 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:20,594 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:20,595 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:20,596 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:20,596 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:20,596 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:20,596 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:20,598 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:20,598 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:20,809 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:20,809 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:20,809 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:20,811 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:20,811 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:20,812 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:20,813 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:20,813 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:20,813 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:20,815 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:20,815 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:20,815 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:21,025 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:21,026 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:21,026 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:21,026 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:21,028 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:21,029 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:21,029 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:21,030 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:21,030 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:21,030 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:21,031 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:21,031 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:21,031 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:21,031 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:21,243 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:21,243 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:21,243 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:21,244 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:21,244 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:21,244 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:21,446 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:21,446 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:21,446 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:21,447 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:21,448 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:21,449 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:21,449 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:21,450 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:21,451 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:21,451 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:21,451 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:21,452 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:21,663 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:21,663 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:21,663 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:21,664 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:21,664 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:21,665 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:21,666 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:21,667 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:21,667 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:21,667 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:21,668 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:21,668 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:21,881 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:21,882 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:21,882 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:21,882 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:21,883 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:21,884 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:21,885 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:21,885 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:21,886 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:21,886 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:21,886 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:21,886 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:21,887 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:21,887 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:22,083 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:22,084 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:22,084 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:22,085 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:22,085 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:22,085 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:22,301 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:22,301 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:22,301 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:22,302 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:22,304 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:22,304 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:22,305 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:22,305 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:22,306 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:22,306 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:22,306 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:22,307 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:22,519 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:22,521 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:22,521 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:22,521 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:22,522 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:22,523 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:22,524 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:22,525 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:22,525 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:22,525 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:22,526 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:22,526 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:22,737 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:22,738 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:22,738 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:22,738 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:22,741 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:22,742 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:22,743 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:22,744 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:22,744 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:22,745 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:22,745 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:22,745 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:22,745 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:22,746 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:22,938 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:22,939 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:22,939 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:22,940 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:22,940 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:22,941 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:23,156 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:23,157 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:23,157 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:23,158 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:23,160 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:23,160 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:23,161 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:23,161 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:23,161 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:23,162 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:23,162 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:23,162 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:23,373 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:23,374 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:23,374 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:23,375 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:23,376 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:23,377 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:23,378 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:23,378 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:23,378 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:23,379 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:23,380 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:23,380 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:23,592 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:23,593 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:23,593 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:23,593 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:23,594 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:23,595 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:23,595 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:23,596 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:23,596 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:23,596 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:23,596 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:23,597 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:23,597 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:23,598 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:23,808 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:23,809 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:23,809 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:23,809 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:23,809 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:23,810 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:24,024 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:24,024 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:24,024 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:24,025 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:24,027 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:24,027 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:24,028 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:24,029 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:24,029 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:24,029 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:24,030 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:24,030 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:24,241 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:24,242 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:24,243 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:24,243 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:24,245 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:24,246 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:24,247 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:24,247 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:24,248 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:24,248 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:24,249 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:24,249 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:24,457 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:24,458 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:24,458 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:24,459 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:24,460 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:24,461 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:24,461 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:24,462 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:24,462 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:24,463 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:24,463 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:24,463 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:24,464 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:24,464 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:24,658 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:24,659 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:24,659 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:24,660 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:24,660 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:24,661 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:24,876 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:24,877 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:24,877 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:24,877 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:24,878 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:24,879 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:24,879 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:24,880 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:24,880 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:24,880 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:24,880 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:24,880 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:25,092 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:25,093 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:25,094 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:25,094 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:25,096 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:25,096 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:25,097 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:25,097 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:25,097 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:25,098 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:25,098 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:25,098 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:25,309 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:25,310 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:25,310 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:25,310 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:25,311 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:25,312 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:25,312 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:25,313 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:25,313 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:25,314 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:25,314 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:25,314 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:25,315 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:25,315 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:25,527 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:25,528 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:25,528 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:25,528 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:25,528 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:25,529 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:25,730 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:25,731 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:25,731 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:25,732 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:25,732 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:25,733 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:25,734 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:25,735 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:25,735 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:25,735 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:25,736 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:25,737 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:25,950 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:25,951 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:25,951 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:25,951 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:25,952 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:25,952 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:25,953 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:25,953 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:25,953 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:25,953 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:25,953 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:25,954 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:26,168 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:26,168 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:26,169 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:26,169 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:26,170 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:26,170 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:26,171 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:26,172 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:26,172 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:26,172 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:26,173 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:26,173 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:26,173 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:26,174 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:26,385 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:26,386 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:26,386 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:26,387 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:26,388 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:26,389 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:26,603 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:26,603 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:26,604 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:26,604 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:26,605 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:26,606 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:26,607 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:26,608 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:26,608 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:26,609 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:26,609 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:26,609 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:26,819 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:26,820 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:26,820 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:26,820 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:26,821 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:26,823 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:26,823 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:26,824 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:26,824 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:26,825 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:26,825 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:26,826 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:27,039 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:27,039 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:27,041 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:27,041 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:27,043 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:27,043 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:27,043 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:27,043 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:27,043 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:27,045 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:27,045 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:27,046 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:27,046 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:27,046 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:27,255 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:27,256 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:27,256 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:27,256 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:27,258 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:27,258 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:27,472 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:27,473 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:27,474 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:27,474 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:27,476 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:27,476 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:27,477 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:27,477 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:27,477 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:27,478 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:27,478 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:27,479 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:27,687 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:27,687 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:27,687 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:27,688 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:27,691 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:27,692 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:27,693 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:27,694 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:27,694 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:27,694 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:27,694 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:27,695 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:27,903 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:27,904 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:27,905 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:27,905 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:27,908 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:27,909 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:27,909 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:27,910 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:27,910 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:27,911 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:27,911 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:27,912 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:27,912 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:27,912 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:28,121 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:28,126 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:28,127 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:28,128 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:28,128 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:28,128 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:28,337 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:28,338 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:28,338 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:28,338 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:28,339 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:28,340 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:28,341 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:28,341 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:28,342 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:28,342 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:28,342 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:28,342 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:28,554 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:28,555 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:28,555 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:28,556 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:28,557 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:28,558 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:28,559 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:28,560 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:28,560 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:28,560 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:28,560 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:28,561 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:28,772 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:28,772 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:28,773 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:28,773 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:28,775 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:28,776 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:28,776 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:28,776 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:28,777 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:28,777 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:28,777 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:28,778 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:28,778 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:28,778 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:28,990 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:28,990 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:28,990 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:28,992 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:28,992 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:28,993 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:29,205 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:29,206 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:29,206 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:29,207 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:29,207 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:29,209 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:29,210 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:29,210 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:29,210 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:29,211 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:29,211 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:29,211 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:29,422 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:29,423 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:29,424 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:29,424 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:29,425 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:29,426 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:29,426 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:29,427 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:29,428 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:29,428 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:29,428 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:29,429 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:29,639 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:29,640 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:29,640 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:29,641 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:29,642 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:29,642 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:29,643 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:29,644 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:29,644 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:29,644 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:29,644 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:29,645 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:29,645 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:29,645 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:29,840 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:29,840 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:29,840 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:29,840 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:29,840 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:29,842 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:30,056 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:30,057 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:30,058 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:30,058 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:30,059 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:30,060 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:30,060 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:30,061 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:30,061 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:30,061 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:30,062 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:30,062 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:30,275 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:30,276 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:30,276 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:30,276 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:30,277 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:30,278 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:30,278 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:30,279 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:30,279 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:30,280 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:30,280 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:30,280 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:30,491 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:30,491 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:30,491 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:30,491 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:30,493 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:30,493 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:30,493 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:30,495 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:30,495 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:30,495 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:30,496 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:30,496 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:30,496 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:30,497 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:30,692 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:30,692 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:30,692 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:30,693 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:30,693 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:30,693 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:30,909 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:30,910 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:30,910 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:30,911 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:30,912 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:30,913 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:30,914 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:30,914 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:30,914 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:30,914 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:30,915 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:30,915 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:31,127 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:31,127 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:31,127 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:31,127 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:31,130 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:31,130 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:31,131 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:31,131 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:31,132 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:31,132 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:31,132 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:31,132 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:31,343 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:31,344 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:31,344 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:31,345 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:31,345 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:31,346 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:31,346 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:31,347 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:31,348 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:31,348 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:31,348 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:31,348 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:31,349 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:31,349 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:31,350 - app.services.device_manager - INFO - Getting proxy status for proxyid: None
2025-10-22 09:16:31,350 - app.services.device_manager - INFO - All device status from cache: {55: {'message': 'Proxy Port not accessible', 'proxyid': 55, 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}, 56: {'message': 'Proxy Port not accessible', 'proxyid': 56, 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}, 57: {'message': 'Proxy Port not accessible', 'proxyid': 57, 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}}
2025-10-22 09:16:31,351 - app.services.device_manager - INFO - Returning status list with 3 items
2025-10-22 09:16:31,543 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:31,544 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:31,544 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:31,544 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:31,545 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:31,545 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:31,760 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:31,762 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:31,762 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:31,763 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:31,764 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:31,765 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:31,766 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:31,766 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:31,767 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:31,767 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:31,767 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:31,768 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:31,979 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:31,980 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:31,981 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:31,982 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:31,983 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:31,984 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:31,984 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:31,984 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:31,985 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:31,985 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:31,986 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:31,986 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:32,198 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:32,199 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:32,199 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:32,199 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:32,201 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:32,201 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:32,202 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:32,202 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:32,203 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:32,203 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:32,203 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:32,203 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:32,203 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:32,204 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:32,416 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:32,416 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:32,416 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:32,417 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:32,417 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:32,417 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:32,633 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:32,634 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:32,635 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:32,635 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:32,637 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:32,638 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:32,639 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:32,639 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:32,639 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:32,640 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:32,640 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:32,640 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:32,849 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:32,850 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:32,850 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:32,851 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:32,851 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:32,853 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:32,854 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:32,854 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:32,854 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:32,855 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:32,855 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:32,855 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:33,067 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:33,067 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:33,067 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:33,068 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:33,069 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:33,070 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:33,071 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:33,071 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:33,072 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:33,072 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:33,073 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:33,073 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:33,073 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:33,073 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:33,271 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:33,271 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:33,272 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:33,272 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:33,272 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:33,273 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:33,488 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:33,489 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:33,490 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:33,490 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:33,492 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:33,494 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:33,495 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:33,495 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:33,495 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:33,496 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:33,496 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:33,496 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:33,705 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:33,705 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:33,706 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:33,707 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:33,709 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:33,709 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:33,711 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:33,711 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:33,712 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:33,713 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:33,713 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:33,714 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:33,924 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:33,925 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:33,926 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:33,926 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:33,928 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:33,929 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:33,929 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:33,930 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:33,930 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:33,931 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:33,931 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:33,932 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:33,932 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:33,932 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:34,126 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:34,127 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:34,127 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:34,127 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:34,128 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:34,128 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:34,344 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:34,344 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:34,344 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:34,346 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:34,347 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:34,348 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:34,349 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:34,349 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:34,350 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:34,350 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:34,350 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:34,351 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:34,561 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:34,562 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:34,563 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:34,563 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:34,564 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:34,565 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:34,566 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:34,567 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:34,567 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:34,567 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:34,567 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:34,568 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:34,779 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:34,780 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:34,780 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:34,780 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:34,781 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:34,782 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:34,783 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:34,784 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:34,784 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:34,784 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:34,785 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:34,785 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:34,785 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:34,786 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:34,981 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:34,982 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:34,982 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:34,983 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:34,983 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:34,983 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:35,185 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:35,185 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:35,185 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:35,185 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:35,186 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:35,187 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:35,188 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:35,188 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:35,189 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:35,189 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:35,189 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:35,189 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:35,402 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:35,403 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:35,403 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:35,404 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:35,405 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:35,406 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:35,406 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:35,407 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:35,407 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:35,407 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:35,408 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:35,408 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:35,619 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:35,619 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:35,620 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:35,620 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:35,622 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:35,623 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:35,624 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:35,624 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:35,625 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:35,625 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:35,626 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:35,626 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:35,627 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:35,627 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:35,835 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:35,836 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:35,836 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:35,837 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:35,837 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:35,837 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:36,053 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:36,053 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:36,054 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:36,054 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:36,057 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:36,058 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:36,059 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:36,059 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:36,060 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:36,060 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:36,060 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:36,061 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:36,269 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:36,269 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:36,269 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:36,270 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:36,271 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:36,274 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:36,275 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:36,276 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:36,276 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:36,276 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:36,276 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:36,277 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:36,484 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:36,485 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:36,485 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:36,486 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:36,487 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:36,489 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:36,489 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:36,489 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:36,489 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:36,490 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:36,491 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:36,491 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:36,491 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:36,492 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:36,685 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:36,686 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:36,686 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:36,687 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:36,687 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:36,688 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:36,903 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:36,903 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:36,903 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:36,904 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:36,905 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:36,906 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:36,907 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:36,908 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:36,908 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:36,908 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:36,909 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:36,909 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:37,121 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:37,122 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:37,122 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:37,122 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:37,124 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:37,124 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:37,124 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:37,124 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:37,124 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:37,126 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:37,126 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:37,127 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:37,338 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:37,338 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:37,338 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:37,338 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:37,340 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:37,340 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:37,341 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:37,342 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:37,342 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:37,342 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:37,342 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:37,342 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:37,343 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:37,343 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:37,552 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:37,553 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:37,553 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:37,554 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:37,554 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:37,554 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:37,759 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:37,760 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:37,760 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:37,760 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:37,761 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:37,762 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:37,764 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:37,764 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:37,764 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:37,764 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:37,765 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:37,765 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:37,975 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:37,976 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:37,976 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:37,976 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:37,977 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:37,978 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:37,979 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:37,979 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:37,980 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:37,980 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:37,980 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:37,980 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:38,193 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:38,194 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:38,194 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:38,195 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:38,195 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:38,196 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:38,196 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:38,197 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:38,197 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:38,197 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:38,198 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:38,199 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:38,199 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:38,199 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:38,395 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:38,395 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:38,396 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:38,396 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:38,396 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:38,397 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:38,599 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:38,599 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:38,599 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:38,599 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:38,600 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:38,601 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:38,602 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:38,602 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:38,603 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:38,603 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:38,604 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:38,604 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:38,816 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:38,816 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:38,817 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:38,817 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:38,819 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:38,819 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:38,820 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:38,820 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:38,821 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:38,821 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:38,821 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:38,821 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:39,033 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:39,034 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:39,034 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:39,034 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:39,035 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:39,036 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:39,037 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:39,038 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:39,038 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:39,038 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:39,039 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:39,039 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:39,039 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:39,039 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:39,235 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:39,235 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:39,235 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:39,235 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:39,237 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:39,237 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:39,439 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:39,440 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:39,441 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:39,441 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:39,443 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:39,444 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:39,445 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:39,446 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:39,446 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:39,446 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:39,447 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:39,447 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:39,657 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:39,657 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:39,657 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:39,659 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:39,660 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:39,661 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:39,661 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:39,662 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:39,662 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:39,663 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:39,663 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:39,663 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:39,874 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:39,875 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:39,875 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:39,875 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:39,877 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:39,877 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:39,878 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:39,878 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:39,879 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:39,879 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:39,880 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:39,880 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:39,880 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:39,881 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:40,074 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:40,075 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:40,076 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:40,076 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:40,076 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:40,077 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:40,290 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:40,290 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:40,290 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:40,291 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:40,292 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:40,293 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:40,294 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:40,294 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:40,294 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:40,294 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:40,295 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:40,296 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:40,508 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:40,509 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:40,509 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:40,510 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:40,510 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:40,510 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:40,511 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:40,512 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:40,512 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:40,512 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:40,512 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:40,512 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:40,722 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:40,722 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:40,722 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:40,722 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:40,725 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:40,726 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:40,726 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:40,727 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:40,727 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:40,727 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:40,727 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:40,728 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:40,728 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:40,728 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:40,925 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:40,925 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:40,926 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:40,926 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:40,926 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:40,927 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:41,142 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:41,143 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:41,143 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:41,144 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:41,145 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:41,147 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:41,148 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:41,148 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:41,149 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:41,150 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:41,150 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:41,151 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:41,359 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:41,360 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:41,360 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:41,361 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:41,367 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:41,368 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:41,370 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:41,370 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:41,371 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:41,371 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:41,372 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:41,372 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:41,577 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:41,578 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:41,578 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:41,578 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:41,579 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:41,580 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:41,581 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:41,581 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:41,582 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:41,582 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:41,582 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:41,583 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:41,583 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:41,583 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:41,793 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:41,794 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:41,794 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:41,794 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:41,794 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:41,795 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:41,997 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:42,034 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:42,061 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:42,063 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:42,066 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:42,067 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:42,068 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:42,070 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:42,070 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:42,071 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:42,072 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:42,072 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:42,277 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:42,278 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:42,278 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:42,278 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:42,279 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:42,280 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:42,282 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:42,282 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:42,283 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:42,283 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:42,283 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:42,283 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:42,498 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:42,498 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:42,498 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:42,499 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:42,500 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:42,501 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:42,501 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:42,502 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:42,502 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:42,503 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:42,503 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:42,503 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:42,504 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:42,504 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:42,714 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:42,715 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:42,715 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:42,716 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:42,716 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:42,716 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:42,932 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:42,933 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:42,933 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:42,933 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:42,934 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:42,935 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:42,936 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:42,937 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:42,937 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:42,938 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:42,938 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:42,938 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:43,151 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:43,152 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:43,152 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:43,152 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:43,153 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:43,154 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:43,155 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:43,156 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:43,157 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:43,157 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:43,157 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:43,158 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:43,371 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:43,372 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:43,373 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:43,373 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:43,375 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:43,376 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:43,376 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:43,377 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:43,378 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:43,378 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:43,378 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:43,379 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:43,379 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:43,379 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:43,588 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:43,589 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:43,589 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:43,589 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:43,590 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:43,590 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:43,803 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:43,804 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:43,804 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:43,805 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:43,806 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:43,808 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:43,809 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:43,809 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:43,810 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:43,810 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:43,810 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:43,810 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:44,021 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:44,021 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:44,021 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:44,022 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:44,024 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:44,024 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:44,026 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:44,026 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:44,026 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:44,027 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:44,027 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:44,027 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:44,240 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:44,241 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:44,241 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:44,241 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:44,242 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:44,243 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:44,243 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:44,244 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:44,244 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:44,245 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:44,245 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:44,245 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:44,246 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:44,246 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:44,442 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:44,442 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:44,443 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:44,443 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:44,444 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:44,444 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:44,659 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:44,659 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:44,660 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:44,660 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:44,661 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:44,661 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:44,663 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:44,664 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:44,664 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:44,664 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:44,665 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:44,665 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:44,876 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:44,876 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:44,876 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:44,876 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:44,878 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:44,878 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:44,879 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:44,879 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:44,880 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:44,880 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:44,880 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:44,880 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:45,093 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:45,094 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:45,094 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:45,095 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:45,096 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:45,097 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:45,098 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:45,098 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:45,099 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:45,099 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:45,099 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:45,100 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:45,100 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:45,100 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:45,295 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:45,296 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:45,296 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:45,297 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:45,297 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:45,298 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:45,513 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:45,513 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:45,514 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:45,514 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:45,516 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:45,517 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:45,519 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:45,519 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:45,520 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:45,520 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:45,520 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:45,520 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:45,730 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:45,731 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:45,732 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:45,732 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:45,733 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:45,734 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:45,735 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:45,735 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:45,736 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:45,736 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:45,736 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:45,737 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:45,946 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:45,946 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:45,946 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:45,947 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:45,948 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:45,949 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:45,950 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:45,950 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:45,951 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:45,951 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:45,952 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:45,952 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:45,953 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:45,953 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:46,163 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:46,164 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:46,164 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:46,165 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:46,165 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:46,166 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:46,380 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:46,381 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:46,381 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:46,382 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:46,383 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:46,384 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:46,386 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:46,386 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:46,386 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:46,387 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:46,388 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:46,388 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:46,598 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:46,598 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:46,599 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:46,599 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:46,600 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:46,600 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:46,601 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:46,602 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:46,602 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:46,602 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:46,602 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:46,603 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:46,816 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:46,817 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:46,818 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:46,818 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:46,819 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:46,820 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:46,820 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:46,820 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:46,822 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:46,822 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:46,823 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:46,824 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:46,824 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:46,824 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:47,016 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:47,017 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:47,017 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:47,017 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:47,017 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:47,018 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:47,219 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:47,219 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:47,219 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:47,220 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:47,220 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:47,222 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:47,222 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:47,223 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:47,223 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:47,223 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:47,224 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:47,224 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:47,436 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:47,436 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:47,437 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:47,437 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:47,438 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:47,439 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:47,439 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:47,441 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:47,441 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:47,441 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:47,442 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:47,442 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:47,652 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:47,653 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:47,654 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:47,654 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:47,656 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:47,657 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:47,658 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:47,659 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:47,659 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:47,659 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:47,659 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:47,660 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:47,660 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:47,660 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:47,870 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:47,871 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:47,871 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:47,871 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:47,872 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:47,872 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:48,088 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:48,088 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:48,088 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:48,089 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:48,090 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:48,091 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:48,093 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:48,093 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:48,093 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:48,094 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:48,095 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:48,095 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:48,305 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:48,305 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:48,305 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:48,306 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:48,308 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:48,308 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:48,309 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:48,309 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:48,309 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:48,310 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:48,310 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:48,311 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:48,523 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:48,523 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:48,523 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:48,523 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:48,525 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:48,525 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:48,526 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:48,526 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:48,526 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:48,526 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:48,526 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:48,527 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:48,528 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:48,528 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:48,725 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:48,725 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:48,725 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:48,726 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:48,726 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:48,726 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:48,942 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:48,942 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:48,943 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:48,943 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:48,945 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:48,945 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:48,946 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:48,947 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:48,947 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:48,947 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:48,948 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:48,948 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:49,158 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:49,159 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:49,159 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:49,160 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:49,161 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:49,161 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:49,163 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:49,163 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:49,163 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:49,163 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:49,164 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:49,164 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:49,377 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:49,377 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:49,378 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:49,378 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:49,380 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:49,381 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:49,381 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:49,382 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:49,383 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:49,383 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:49,383 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:49,383 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:49,384 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:49,384 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:49,578 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:49,579 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:49,579 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:49,580 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:49,580 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:49,580 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:49,780 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:49,781 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:49,781 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:49,782 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:49,784 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:49,785 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:49,786 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:49,787 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:49,787 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:49,787 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:49,788 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:49,788 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:49,997 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:49,998 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:49,998 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:49,998 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:49,999 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:50,000 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:50,000 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:50,001 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:50,001 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:50,001 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:50,001 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:50,002 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:50,213 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:50,214 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:50,214 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:50,214 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:50,216 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:50,216 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:50,217 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:50,218 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:50,218 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:50,218 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:50,219 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:50,219 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:50,219 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:50,220 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:50,431 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:50,432 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:50,432 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:50,433 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:50,433 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:50,434 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:50,648 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:50,648 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:50,648 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:50,648 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:50,650 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:50,650 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:50,650 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:50,652 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:50,652 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:50,652 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:50,653 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:50,653 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:50,865 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:50,866 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:50,866 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:50,866 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:50,868 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:50,869 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:50,870 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:50,871 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:50,871 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:50,872 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:50,872 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:50,872 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:51,078 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:51,078 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:51,079 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:51,079 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:51,081 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:51,081 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:51,082 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:51,082 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:51,082 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:51,082 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:51,083 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:51,084 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:51,084 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:51,084 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:51,281 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:51,281 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:51,281 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:51,282 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:51,283 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:51,284 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:51,496 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:51,497 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:51,497 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:51,497 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:51,498 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:51,499 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:51,499 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:51,500 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:51,500 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:51,500 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:51,500 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:51,501 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:51,709 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:51,710 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:51,711 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:51,711 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:51,713 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:51,713 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:51,714 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:51,714 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:51,714 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:51,714 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:51,715 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:51,715 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:51,927 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:51,928 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:51,928 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:51,928 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:51,929 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:51,931 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:51,932 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:51,932 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:51,932 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:51,932 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:51,933 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:51,934 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:51,934 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:51,935 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:52,143 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:52,144 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:52,145 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:52,145 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:52,145 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:52,145 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:52,360 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:52,361 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:52,361 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:52,362 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:52,363 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:52,364 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:52,365 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:52,365 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:52,365 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:52,365 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:52,366 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:52,366 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:52,575 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:52,576 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:52,577 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:52,578 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:52,578 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:52,579 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:52,579 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:52,580 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:52,580 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:52,580 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:52,582 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:52,582 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:52,791 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:52,792 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:52,792 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:52,793 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:52,794 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:52,794 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:52,795 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:52,795 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:52,796 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:52,796 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:52,796 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:52,797 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:52,797 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:52,797 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:53,010 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:53,011 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:53,012 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:53,013 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:53,013 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:53,013 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:53,223 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:53,224 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:53,224 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:53,224 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:53,226 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:53,227 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:53,228 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:53,228 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:53,229 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:53,229 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:53,229 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:53,229 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:53,435 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:53,435 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:53,435 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:53,436 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:53,437 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:53,439 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:53,440 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:53,440 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:53,440 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:53,441 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:53,442 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:53,442 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:53,648 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:53,649 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:53,649 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:53,650 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:53,651 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:53,652 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:53,652 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:53,653 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:53,653 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:53,654 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:53,654 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:53,654 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:53,655 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:53,655 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:53,875 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:53,876 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:53,876 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:53,876 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:53,877 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:53,877 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:54,092 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:54,093 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:54,093 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:54,093 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:54,094 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:54,095 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:54,096 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:54,096 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:54,097 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:54,097 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:54,097 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:54,098 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:54,307 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:54,307 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:54,308 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:54,308 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:54,308 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:54,309 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:54,310 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:54,311 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:54,311 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:54,311 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:54,311 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:54,312 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:54,521 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:54,522 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:54,523 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:54,523 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:54,524 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:54,525 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:54,526 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:54,526 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:54,526 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:54,527 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:54,527 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:54,527 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:54,528 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:54,528 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:54,722 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:54,723 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:54,723 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:54,724 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:54,724 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:54,725 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:54,940 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:54,940 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:54,941 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:54,941 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:54,942 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:54,943 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:54,944 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:54,945 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:54,945 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:54,945 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:54,945 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:54,946 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:55,155 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:55,156 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:55,156 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:55,156 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:55,157 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:55,159 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:55,160 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:55,160 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:55,160 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:55,160 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:55,161 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:55,161 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:55,370 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:55,371 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:55,371 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:55,371 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:55,372 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:55,373 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:55,374 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:55,374 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:55,374 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:55,374 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:55,375 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:55,376 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:55,376 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:55,376 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:55,589 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:55,590 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:55,590 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:55,590 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:55,591 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:55,591 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:55,806 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:55,807 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:55,808 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:55,808 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:55,809 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:55,810 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:55,811 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:55,812 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:55,812 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:55,812 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:55,813 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:55,813 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:56,025 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:56,025 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:56,025 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:56,025 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:56,026 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:56,027 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:56,027 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:56,028 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:56,028 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:56,029 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:56,029 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:56,029 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:56,243 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:56,243 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:56,243 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:56,243 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:56,245 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:56,246 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:56,247 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:56,247 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:56,248 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:56,248 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:56,248 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:56,249 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:56,249 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:56,250 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:56,462 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:56,463 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:56,464 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:56,464 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:56,465 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:56,465 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:56,680 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:56,681 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:56,681 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:56,681 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:56,682 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:56,683 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:56,684 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:56,684 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:56,685 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:56,685 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:56,686 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:56,686 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:56,899 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:56,899 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:56,900 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:56,900 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:56,901 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:56,902 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:56,904 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:56,904 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:56,904 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:56,904 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:56,905 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:56,905 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:57,115 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:57,116 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:57,116 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:57,117 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:57,117 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:57,118 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:57,119 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:57,119 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:57,119 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:57,120 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:57,120 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:57,120 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:57,121 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:57,122 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:57,315 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:57,316 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:57,317 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:57,318 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:57,318 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:57,319 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:57,532 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:57,533 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:57,534 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:57,534 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:57,535 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:57,536 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:57,537 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:57,538 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:57,538 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:57,538 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:57,539 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:57,539 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:57,747 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:57,747 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:57,748 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:57,748 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:57,749 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:57,750 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:57,751 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:57,752 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:57,752 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:57,752 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:57,752 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:57,753 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:57,965 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:57,966 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:57,967 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:57,967 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:57,969 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:57,969 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:57,971 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:57,971 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:57,971 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:57,972 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:57,972 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:57,972 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:57,973 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:57,973 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:58,183 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:58,184 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:58,185 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:58,186 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:58,186 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:58,186 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:58,401 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:58,402 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:58,403 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:58,403 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:58,405 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:58,406 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:58,406 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:58,406 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:58,407 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:58,407 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:58,408 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:58,409 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:58,617 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:58,618 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:58,618 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:58,619 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:58,620 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:58,622 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:58,623 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:58,623 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:58,623 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:58,624 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:58,624 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:58,625 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:58,833 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:58,833 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:58,833 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:58,834 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:58,835 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:58,835 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:58,837 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:58,837 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:58,837 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:58,838 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:58,838 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:58,839 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:58,839 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:58,840 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:59,035 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:59,035 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:59,035 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:59,036 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:59,036 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:59,036 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:16:59,239 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:16:59,240 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:59,240 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:16:59,240 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:16:59,241 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:16:59,242 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:16:59,243 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:16:59,244 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:16:59,244 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:16:59,244 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:16:59,245 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:16:59,245 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:16:59,456 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:16:59,457 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:59,458 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:16:59,459 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:16:59,460 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:16:59,461 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:16:59,461 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:16:59,462 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:16:59,462 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:16:59,462 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:16:59,463 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:16:59,463 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:16:59,673 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:16:59,674 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:16:59,674 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:16:59,675 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:16:59,677 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:16:59,678 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:16:59,678 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:16:59,679 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:16:59,679 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:16:59,679 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:16:59,679 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:16:59,680 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:16:59,680 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:16:59,680 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:16:59,876 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:16:59,877 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:16:59,878 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:16:59,878 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:16:59,878 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:16:59,879 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:00,092 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:00,092 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:00,092 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:00,094 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:00,094 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:00,095 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:00,096 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:00,096 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:00,097 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:00,097 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:00,097 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:00,098 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:00,308 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:00,309 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:00,309 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:00,310 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:00,311 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:00,312 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:00,312 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:00,313 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:00,313 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:00,313 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:00,313 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:00,314 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:00,527 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:00,527 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:00,528 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:00,528 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:00,529 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:00,531 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:00,532 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:00,532 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:00,532 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:00,532 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:00,532 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:00,533 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:00,534 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:00,534 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:00,745 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:00,746 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:00,747 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:00,747 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:00,748 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:00,748 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:00,963 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:00,964 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:00,964 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:00,965 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:00,966 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:00,967 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:00,968 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:00,968 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:00,968 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:00,969 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:00,969 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:00,969 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:01,183 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:01,184 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:01,185 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:01,185 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:01,186 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:01,187 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:01,187 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:01,188 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:01,189 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:01,189 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:01,190 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:01,190 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:01,399 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:01,399 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:01,399 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:01,400 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:01,401 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:01,401 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:01,402 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:01,403 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:01,403 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:01,403 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:01,404 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:01,404 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:01,405 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:01,405 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:01,613 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:01,614 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:01,615 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:01,615 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:01,615 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:01,616 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:01,816 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:01,817 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:01,818 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:01,818 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:01,819 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:01,820 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:01,821 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:01,822 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:01,822 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:01,822 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:01,822 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:01,823 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:02,032 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:02,033 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:02,034 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:02,034 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:02,035 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:02,036 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:02,037 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:02,038 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:02,038 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:02,038 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:02,038 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:02,039 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:02,247 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:02,247 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:02,247 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:02,247 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:02,248 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:02,249 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:02,251 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:02,251 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:02,252 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:02,252 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:02,252 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:02,252 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:02,253 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:02,253 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:02,449 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:02,450 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:02,450 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:02,450 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:02,450 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:02,451 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:02,666 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:02,666 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:02,667 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:02,668 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:02,670 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:02,670 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:02,671 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:02,671 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:02,671 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:02,672 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:02,672 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:02,673 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:02,881 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:02,882 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:02,883 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:02,883 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:02,884 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:02,885 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:02,885 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:02,886 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:02,886 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:02,886 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:02,887 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:02,887 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:03,099 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:03,100 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:03,100 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:03,101 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:03,101 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:03,103 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:03,103 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:03,104 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:03,104 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:03,104 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:03,105 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:03,105 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:03,105 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:03,106 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:03,300 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:03,300 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:03,301 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:03,301 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:03,302 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:03,302 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:03,517 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:03,518 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:03,518 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:03,518 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:03,519 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:03,521 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:03,522 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:03,522 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:03,523 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:03,523 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:03,524 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:03,524 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:03,732 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:03,733 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:03,733 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:03,734 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:03,735 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:03,736 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:03,737 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:03,738 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:03,738 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:03,738 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:03,739 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:03,739 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:03,949 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:03,949 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:03,949 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:03,950 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:03,951 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:03,952 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:03,953 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:03,954 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:03,954 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:03,954 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:03,954 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:03,955 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:03,955 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:03,955 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:04,166 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:04,166 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:04,167 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:04,167 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:04,168 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:04,168 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:04,382 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:04,383 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:04,384 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:04,384 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:04,386 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:04,387 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:04,387 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:04,388 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:04,388 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:04,389 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:04,389 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:04,389 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:04,600 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:04,601 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:04,602 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:04,602 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:04,604 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:04,605 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:04,606 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:04,607 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:04,607 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:04,607 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:04,608 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:04,608 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:04,820 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:04,820 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:04,820 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:04,820 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:04,822 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:04,824 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:04,825 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:04,825 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:04,826 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:04,826 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:04,826 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:04,826 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:04,827 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:04,827 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:05,035 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:05,036 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:05,036 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:05,037 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:05,037 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:05,038 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:05,252 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:05,253 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:05,253 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:05,254 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:05,257 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:05,258 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:05,260 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:05,261 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:05,261 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:05,261 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:05,262 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:05,262 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:05,469 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:05,470 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:05,470 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:05,470 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:05,471 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:05,472 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:05,473 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:05,474 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:05,474 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:05,475 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:05,475 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:05,476 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:05,686 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:05,686 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:05,686 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:05,687 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:05,689 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:05,689 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:05,690 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:05,691 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:05,691 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:05,691 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:05,691 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:05,692 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:05,692 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:05,693 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:05,904 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:05,904 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:05,904 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:05,905 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:05,905 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:05,905 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:06,120 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:06,121 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:06,121 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:06,122 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:06,123 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:06,124 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:06,125 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:06,125 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:06,126 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:06,126 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:06,126 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:06,127 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:06,336 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:06,337 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:06,337 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:06,337 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:06,339 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:06,340 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:06,341 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:06,341 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:06,342 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:06,343 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:06,343 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:06,343 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:06,552 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:06,553 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:06,553 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:06,554 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:06,555 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:06,555 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:06,557 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:06,557 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:06,557 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:06,558 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:06,558 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:06,559 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:06,559 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:06,559 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:06,755 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:06,756 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:06,756 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:06,757 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:06,757 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:06,757 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:06,959 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:06,960 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:06,960 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:06,960 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:06,961 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:06,962 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:06,963 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:06,963 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:06,964 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:06,964 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:06,964 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:06,965 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:07,178 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:07,179 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:07,179 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:07,180 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:07,181 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:07,182 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:07,183 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:07,184 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:07,184 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:07,184 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:07,185 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:07,185 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:07,396 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:07,396 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:07,397 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:07,397 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:07,398 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:07,399 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:07,400 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:07,401 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:07,401 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:07,402 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:07,403 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:07,403 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:07,403 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:07,404 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:07,612 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:07,612 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:07,613 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:07,613 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:07,614 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:07,614 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:07,830 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:07,830 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:07,831 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:07,831 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:07,832 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:07,833 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:07,833 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:07,834 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:07,835 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:07,835 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:07,835 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:07,836 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:08,048 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:08,049 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:08,049 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:08,049 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:08,050 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:08,051 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:08,052 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:08,053 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:08,053 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:08,053 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:08,053 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:08,054 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:08,267 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:08,267 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:08,267 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:08,267 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:08,269 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:08,270 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:08,270 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:08,271 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:08,271 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:08,271 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:08,271 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:08,271 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:08,271 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:08,272 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:08,468 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:08,469 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:08,469 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:08,469 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:08,469 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:08,471 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:08,687 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:08,687 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:08,687 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:08,688 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:08,690 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:08,691 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:08,693 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:08,693 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:08,693 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:08,694 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:08,694 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:08,694 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:08,903 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:08,904 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:08,904 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:08,905 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:08,906 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:08,907 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:08,907 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:08,908 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:08,909 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:08,909 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:08,909 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:08,909 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:09,122 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:09,123 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:09,124 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:09,124 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:09,125 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:09,126 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:09,127 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:09,128 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:09,128 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:09,128 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:09,128 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:09,129 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:09,129 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:09,130 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:09,323 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:09,323 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:09,323 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:09,323 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:09,325 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:09,325 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:09,542 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:09,542 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:09,543 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:09,543 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:09,544 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:09,545 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:09,546 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:09,546 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:09,547 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:09,547 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:09,548 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:09,548 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:09,762 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:09,762 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:09,763 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:09,763 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:09,765 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:09,765 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:09,767 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:09,768 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:09,769 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:09,769 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:09,769 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:09,770 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:09,980 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:09,981 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:09,982 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:09,982 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:09,984 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:09,985 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:09,986 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:09,986 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:09,987 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:09,987 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:09,987 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:09,988 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:09,988 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:09,988 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:10,194 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:10,195 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:10,195 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:10,196 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:10,196 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:10,197 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:10,413 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:10,414 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:10,414 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:10,415 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:10,416 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:10,417 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:10,418 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:10,418 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:10,418 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:10,418 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:10,418 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:10,419 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:10,633 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:10,634 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:10,634 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:10,635 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:10,636 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:10,637 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:10,637 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:10,638 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:10,639 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:10,639 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:10,639 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:10,640 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:10,849 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:10,850 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:10,850 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:10,851 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:10,853 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:10,854 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:10,854 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:10,855 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:10,855 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:10,855 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:10,856 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:10,856 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:10,856 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:10,856 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:11,063 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:11,064 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:11,064 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:11,064 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:11,065 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:11,065 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:11,279 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:11,279 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:11,280 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:11,280 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:11,282 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:11,284 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:11,285 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:11,285 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:11,285 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:11,285 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:11,286 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:11,286 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:11,495 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:11,496 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:11,496 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:11,496 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:11,497 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:11,498 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:11,498 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:11,499 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:11,499 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:11,499 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:11,500 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:11,500 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:11,715 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:11,715 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:11,715 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:11,715 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:11,717 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:11,718 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:11,719 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:11,720 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:11,720 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:11,720 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:11,721 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:11,721 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:11,722 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:11,722 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:11,932 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:11,933 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:11,933 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:11,934 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:11,934 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:11,935 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:12,150 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:12,151 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:12,151 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:12,151 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:12,152 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:12,153 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:12,153 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:12,154 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:12,155 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:12,155 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:12,155 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:12,155 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:12,369 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:12,370 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:12,370 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:12,371 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:12,372 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:12,373 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:12,374 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:12,374 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:12,374 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:12,375 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:12,375 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:12,376 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:12,585 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:12,586 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:12,586 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:12,586 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:12,587 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:12,588 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:12,589 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:12,590 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:12,590 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:12,590 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:12,590 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:12,591 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:12,591 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:12,591 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:12,804 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:12,805 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:12,806 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:12,806 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:12,807 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:12,808 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:13,008 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:13,008 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:13,009 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:13,009 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:13,010 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:13,011 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:13,011 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:13,012 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:13,012 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:13,012 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:13,013 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:13,013 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:13,226 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:13,226 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:13,227 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:13,227 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:13,229 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:13,230 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:13,231 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:13,232 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:13,232 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:13,233 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:13,233 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:13,234 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:13,440 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:13,440 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:13,440 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:13,442 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:13,443 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:13,443 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:13,444 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:13,445 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:13,445 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:13,445 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:13,445 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:13,446 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:13,446 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:13,446 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:13,639 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:13,640 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:13,640 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:13,641 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:13,641 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:13,642 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:13,856 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:13,857 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:13,858 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:13,858 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:13,860 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:13,860 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:13,862 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:13,862 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:13,863 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:13,863 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:13,863 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:13,863 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:14,074 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:14,074 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:14,075 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:14,075 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:14,076 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:14,076 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:14,077 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:14,077 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:14,077 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:14,078 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:14,078 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:14,078 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:14,289 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:14,290 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:14,291 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:14,291 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:14,292 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:14,293 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:14,293 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:14,294 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:14,294 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:14,294 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:14,294 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:14,294 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:14,295 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:14,296 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:14,507 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:14,508 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:14,509 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:14,509 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:14,509 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:14,510 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:14,710 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:14,711 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:14,711 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:14,711 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:14,713 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:14,713 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:14,715 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:14,715 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:14,715 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:14,715 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:14,716 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:14,716 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:14,928 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:14,929 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:14,929 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:14,929 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:14,930 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:14,931 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:14,932 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:14,933 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:14,933 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:14,933 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:14,933 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:14,934 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:15,145 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:15,145 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:15,145 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:15,145 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:15,147 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:15,148 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:15,148 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:15,149 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:15,149 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:15,150 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:15,150 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:15,150 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:15,150 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:15,151 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:15,347 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:15,348 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:15,349 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:15,349 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:15,349 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:15,350 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:15,565 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:15,566 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:15,566 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:15,567 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:15,569 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:15,570 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:15,570 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:15,571 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:15,572 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:15,572 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:15,572 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:15,572 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:15,780 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:15,780 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:15,780 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:15,780 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:15,782 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:15,783 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:15,784 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:15,785 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:15,785 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:15,786 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:15,786 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:15,786 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:15,998 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:15,998 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:15,998 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:15,999 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:16,000 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:16,001 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:16,002 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:16,003 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:16,003 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:16,003 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:16,004 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:16,004 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:16,005 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:16,005 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:16,214 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:16,214 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:16,215 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:16,215 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:16,215 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:16,215 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:16,417 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:16,417 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:16,418 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:16,418 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:16,419 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:16,424 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:16,425 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:16,426 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:16,426 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:16,426 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:16,427 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:16,428 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:16,635 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:16,636 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:16,636 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:16,636 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:16,637 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:16,638 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:16,638 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:16,639 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:16,639 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:16,640 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:16,640 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:16,640 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:16,851 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:16,852 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:16,852 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:16,852 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:16,853 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:16,854 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:16,854 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:16,855 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:16,855 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:16,855 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:16,855 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:16,856 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:16,856 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:16,856 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:17,067 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:17,068 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:17,068 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:17,068 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:17,068 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:17,069 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:17,270 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:17,271 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:17,271 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:17,271 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:17,272 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:17,273 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:17,273 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:17,274 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:17,274 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:17,275 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:17,275 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:17,275 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:17,488 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:17,489 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:17,489 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:17,490 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:17,491 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:17,492 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:17,493 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:17,493 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:17,493 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:17,493 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:17,494 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:17,495 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:17,705 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:17,706 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:17,706 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:17,707 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:17,707 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:17,708 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:17,709 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:17,710 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:17,710 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:17,711 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:17,711 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:17,711 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:17,712 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:17,712 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:17,905 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:17,906 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:17,906 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:17,906 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:17,906 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:17,907 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:18,122 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:18,123 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:18,123 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:18,123 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:18,125 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:18,125 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:18,126 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:18,127 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:18,127 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:18,127 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:18,127 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:18,128 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:18,340 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:18,340 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:18,340 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:18,342 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:18,343 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:18,344 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:18,344 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:18,345 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:18,345 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:18,345 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:18,345 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:18,346 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:18,558 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:18,558 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:18,558 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:18,558 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:18,559 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:18,560 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:18,561 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:18,562 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:18,562 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:18,562 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:18,562 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:18,563 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:18,563 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:18,563 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:18,774 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:18,775 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:18,775 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:18,776 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:18,776 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:18,776 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:18,991 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:18,992 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:18,992 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:18,993 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:18,993 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:18,994 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:18,995 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:18,995 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:18,995 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:18,996 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:18,996 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:18,996 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:19,208 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:19,209 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:19,209 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:19,209 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:19,210 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:19,211 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:19,213 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:19,213 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:19,213 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:19,214 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:19,214 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:19,214 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:19,426 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:19,427 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:19,427 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:19,427 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:19,428 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:19,429 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:19,429 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:19,430 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:19,430 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:19,430 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:19,431 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:19,431 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:19,431 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:19,431 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:19,629 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:19,630 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:19,630 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:19,630 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:19,630 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:19,631 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:19,832 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:19,833 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:19,833 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:19,833 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:19,834 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:19,835 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:19,835 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:19,836 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:19,836 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:19,836 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:19,836 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:19,837 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:20,048 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:20,048 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:20,049 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:20,049 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:20,050 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:20,051 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:20,052 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:20,052 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:20,052 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:20,053 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:20,053 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:20,053 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:20,263 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:20,263 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:20,264 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:20,264 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:20,265 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:20,266 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:20,266 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:20,267 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:20,267 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:20,267 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:20,267 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:20,267 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:20,268 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:20,268 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:20,481 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:20,481 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:20,481 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:20,481 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:20,481 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:20,482 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:20,686 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:20,686 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:20,687 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:20,687 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:20,689 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:20,690 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:20,690 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:20,691 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:20,691 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:20,692 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:20,692 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:20,692 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:20,903 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:20,904 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:20,904 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:20,904 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:20,905 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:20,905 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:20,907 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:20,907 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:20,907 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:20,908 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:20,908 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:20,908 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:21,121 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:21,121 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:21,121 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:21,121 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:21,122 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:21,123 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:21,125 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:21,125 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:21,125 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:21,125 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:21,126 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:21,126 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:21,126 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:21,127 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:21,332 - app.services.background_worker - INFO - [BG_WORKER] Starting background task execution cycle
2025-10-22 09:17:21,333 - app.services.background_worker - INFO - [HEALTH_SYNC] Starting synchronous health check for all proxy services
2025-10-22 09:17:21,333 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 55 (enabled: 1) ==========
2025-10-22 09:17:21,333 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 55 current status: Proxy Port not accessible
2025-10-22 09:17:21,334 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 55 <<<<<
2025-10-22 09:17:21,334 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 55 (IP: 127.0.0.1:5555)
2025-10-22 09:17:21,541 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5555 on 127.0.0.1 is not accessible for proxy 55
2025-10-22 09:17:21,541 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 55 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:21,541 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 55: healthy=False, response_time=0.0
2025-10-22 09:17:21,541 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/55, Payload: {'message': 'NG', 'proxyid': 55, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E82', 'proxy_ip': '127.0.0.1', 'proxy_port': '5555', 'remark': 'tsc11'}
2025-10-22 09:17:21,542 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/55, QoS: 0, Payload: {"message": "NG", "proxyid": 55, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E82", "proxy_ip": "127.0.0.1", "proxy_port": "5555", "remark": "tsc11"}
2025-10-22 09:17:21,543 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/55 - 結果碼: 0
2025-10-22 09:17:21,544 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/55
2025-10-22 09:17:21,544 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 56 (enabled: 1) ==========
2025-10-22 09:17:21,544 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 56 current status: Proxy Port not accessible
2025-10-22 09:17:21,545 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 56 <<<<<
2025-10-22 09:17:21,545 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/55, 內容長度: 201 bytes
2025-10-22 09:17:21,545 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 56 (IP: 127.0.0.1:5556)
2025-10-22 09:17:21,757 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5556 on 127.0.0.1 is not accessible for proxy 56
2025-10-22 09:17:21,758 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 56 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:21,759 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 56: healthy=False, response_time=0.0
2025-10-22 09:17:21,759 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/56, Payload: {'message': 'NG', 'proxyid': 56, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5556', 'remark': 'Stk1'}
2025-10-22 09:17:21,761 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/56, QoS: 0, Payload: {"message": "NG", "proxyid": 56, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5556", "remark": "Stk1"}
2025-10-22 09:17:21,762 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/56 - 結果碼: 0
2025-10-22 09:17:21,762 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/56
2025-10-22 09:17:21,762 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 57 (enabled: 1) ==========
2025-10-22 09:17:21,763 - app.services.background_worker - INFO - [HEALTH_SYNC] Device 57 current status: Proxy Port not accessible
2025-10-22 09:17:21,763 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/56, 內容長度: 200 bytes
2025-10-22 09:17:21,763 - app.services.background_worker - INFO - [HEALTH_SYNC] >>>>> Health checking enabled device 57 <<<<<
2025-10-22 09:17:21,764 - app.services.device_processor - INFO - [HEALTH_CHECK] Starting health check for proxy 57 (IP: 127.0.0.1:5557)
2025-10-22 09:17:21,973 - app.services.device_processor - ERROR - [HEALTH_CHECK] Port 5557 on 127.0.0.1 is not accessible for proxy 57
2025-10-22 09:17:21,974 - app.services.background_worker - INFO - [HEALTH_SYNC] Proxy 57 health check result: proxyServiceStart=0, healthy=False, message=proxy Port not accessible
2025-10-22 09:17:21,974 - app.services.background_worker - INFO - [DEBUG] Would publish health check result for proxy 57: healthy=False, response_time=0.0
2025-10-22 09:17:21,975 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Publishing proxy status update - Topic: mcs/events/ProxyService/status/57, Payload: {'message': 'NG', 'proxyid': 57, 'status': 'connet fail', 'proxyServiceAlive': '0', 'proxyServiceStart': '0', 'controller_type': 'E88', 'proxy_ip': '127.0.0.1', 'proxy_port': '5557', 'remark': 'Stk2'}
2025-10-22 09:17:21,976 - app.mqtt.client - INFO - [MQTT_CLIENT] Publishing message - Topic: mcs/events/ProxyService/status/57, QoS: 0, Payload: {"message": "NG", "proxyid": 57, "status": "connet fail", "proxyServiceAlive": "0", "proxyServiceStart": "0", "controller_type": "E88", "proxy_ip": "127.0.0.1", "proxy_port": "5557", "remark": "Stk2"}
2025-10-22 09:17:21,977 - app.mqtt.client - INFO - [MQTT_CLIENT] 成功發佈訊息到主題 mcs/events/ProxyService/status/57 - 結果碼: 0
2025-10-22 09:17:21,978 - app.mqtt.publisher - INFO - [MQTT_PUBLISH] Successfully published to topic: mcs/events/ProxyService/status/57
2025-10-22 09:17:21,978 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 60 (enabled: 0) ==========
2025-10-22 09:17:21,979 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 60
2025-10-22 09:17:21,979 - app.mqtt.client - INFO - [MQTT_CLIENT] 收到MQTT訊息 - 主題: mcs/events/ProxyService/status/57, 內容長度: 200 bytes
2025-10-22 09:17:21,979 - app.services.background_worker - INFO - [HEALTH_SYNC] ========== Processing device 61 (enabled: 0) ==========
2025-10-22 09:17:21,980 - app.services.background_worker - WARNING - [HEALTH_SYNC] No status cache for device 61
2025-10-22 09:17:21,980 - app.services.background_worker - INFO - [HEALTH_SYNC] Completed health check for 5 devices
2025-10-22 09:17:21,980 - app.services.background_worker - INFO - [BG_WORKER] Background task execution cycle completed
2025-10-22 09:17:22,011 - app.services.background_worker - INFO - Background worker task cancelled
